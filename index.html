<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sneaky Snake !</title>
  <link rel="icon" type="image/png" href="favicon.png">
  <link href="dist/tailwind.css" rel="stylesheet">
  <link rel="preload" href="SpriteSheet.svg" as="image">
  <script src="dist/index.js" defer></script>
  <script src="https://unpkg.com/alpinejs" defer></script>
</head>
<body class="flex flex-col h-screen text-gray-700 bg-gray-50 gap-4">
<header class="flex items-center justify-evenly p-4">
  <h1 class="text-8xl text-gray-900 font-bold">🐍 Sneaky Snake !</h1>

  <nav
    x-data
    class="grid gap-4 select-none text-5xl font-bold text-gray-800"
    style='grid-template: ". up ." "left playpause right" ". down ."'>
    <template x-for="(icon, action) in {up: '⬆️', down: '⬇️', left: '⬅️', right: '➡️', playpause: '⏯️'}">
      <button
        class="
          px-2 py-1 w-12 h-12 flex items-center justify-center border rounded bg-gray-200 cursor-pointer shadow-lg
          transition duration-75 active:translate-y-1 active:shadow"
        :style="`grid-area:${action}`"
        @click="$store.game[action]()"
        x-text="icon"></button>
    </template>
  </nav>
</header>

<div class="flex-grow overflow-hidden flex justify-center items-start p-4">
  <!--<canvas
    x-init="new SquareRenderer($store.game, $el)"
    class="max-h-full max-w-full"
  ></canvas>-->
  <canvas
    x-init="new SpriteRenderer($store.game, $el)"
    class="max-h-full max-w-full"
  ></canvas>
  <!--<pre
    x-init="new AsciiRenderer($store.game, $el)"
    class="leading-none tracking-[.45em] text-4xl"
  ></pre>-->
</div>

<script>
  document.addEventListener('alpine:init', () => {
    const game = new Game()
    new ConsoleRenderer(game)
    Alpine.store('game', game)
  })
</script>
</body>
</html>